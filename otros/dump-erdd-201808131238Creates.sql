-- MySQL dump 10.13  Distrib 5.7.23, for Linux (x86_64)
--
-- Host: localhost    Database: erdd
-- ------------------------------------------------------
-- Server version	5.7.23-0ubuntu0.18.04.1

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE='+00:00' */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `play_evolutions`
--

DROP TABLE IF EXISTS `play_evolutions`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `play_evolutions` (
  `id` int(11) NOT NULL,
  `hash` varchar(255) NOT NULL,
  `applied_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `apply_script` text,
  `revert_script` text,
  `state` varchar(255) DEFAULT NULL,
  `last_problem` text,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `play_evolutions`
--

LOCK TABLES `play_evolutions` WRITE;
/*!40000 ALTER TABLE `play_evolutions` DISABLE KEYS */;
INSERT INTO `play_evolutions` VALUES (1,'e008242bf3cc3fd9f8e1198cc172478e4d555250','2018-08-13 17:37:34','create table alcance_curricular (\nid                        bigint auto_increment not null,\ndescripcion               varchar(255),\nauditinsert               datetime not null,\nauditlastupdate           datetime not null,\nconstraint pk_alcance_curricular primary key (id))\n;\n\ncreate table areaconocimiento (\nid                        bigint auto_increment not null,\ndescripcion               varchar(255),\nauditinsert               datetime not null,\nauditlastupdate           datetime not null,\nconstraint pk_areaconocimiento primary key (id))\n;\n\ncreate table aspecto (\nid                        bigint auto_increment not null,\ndescripcion               varchar(255),\nauditinsert               datetime not null,\nauditlastupdate           datetime not null,\nconstraint pk_aspecto primary key (id))\n;\n\ncreate table autorfuncion (\nid                        bigint auto_increment not null,\ndescripcion               varchar(255),\nauditinsert               datetime not null,\nauditlastupdate           datetime not null,\nconstraint pk_autorfuncion primary key (id))\n;\n\ncreate table calendario (\nid                        bigint auto_increment not null,\ndescripcion               varchar(255),\ndesde                     datetime,\nhasta                     datetime,\nauditinsert               datetime not null,\nauditlastupdate           datetime not null,\nconstraint pk_calendario primary key (id))\n;\n\ncreate table clasificacion (\nid                        bigint auto_increment not null,\nrecurso_id                bigint,\ncriterio1_id              bigint,\ncriterio2_id              bigint,\ncriterio3_id              bigint,\ntiporecurso_id            bigint,\nauditinsert               datetime not null,\nauditlastupdate           datetime not null,\nconstraint pk_clasificacion primary key (id))\n;\n\ncreate table clasificador_cancelable (\nid                        bigint auto_increment not null,\ncriterio1_id              bigint,\ncriterio2_id              bigint,\ncriterio3_id              bigint,\nauditinsert               datetime not null,\nauditlastupdate           datetime not null,\nconstraint pk_clasificador_cancelable primary key (id))\n;\n\ncreate table clasificador_catalogo_criterio3 (\nid                        bigint auto_increment not null,\ndescripcion               varchar(255),\ninformacion               varchar(600),\nauditinsert               datetime not null,\nauditlastupdate           datetime not null,\nconstraint pk_clasificador_catalogo_criterio3 primary key (id))\n;\n\ncreate table clasificador_criterio1 (\nid                        bigint auto_increment not null,\ndescripcion               varchar(255),\nauditinsert               datetime not null,\nauditlastupdate           datetime not null,\nconstraint pk_clasificador_criterio1 primary key (id))\n;\n\ncreate table clasificador_criterio2 (\nid                        bigint auto_increment not null,\ncriterio1_id              bigint,\ndescripcion               varchar(255),\ninformacion               varchar(600),\nauditinsert               datetime not null,\nauditlastupdate           datetime not null,\nconstraint pk_clasificador_criterio2 primary key (id))\n;\n\ncreate table clasificador_criterio3 (\nid                        bigint auto_increment not null,\ncriterio1_id              bigint,\ncriterio2_id              bigint,\ncatalogo_id               bigint,\nauditinsert               datetime not null,\nauditlastupdate           datetime not null,\nconstraint pk_clasificador_criterio3 primary key (id))\n;\n\ncreate table clasificador_criterio3ejemplo (\nid                        bigint auto_increment not null,\ncriterio3_id              bigint,\ntiporecurso_id            bigint,\nauditinsert               datetime not null,\nauditlastupdate           datetime not null,\nconstraint pk_clasificador_criterio3ejemplo primary key (id))\n;\n\ncreate table clasificador_ejemplo (\nid                        bigint auto_increment not null,\ncriterio1_id              bigint,\ncriterio2_id              bigint,\ncriterio3_id              bigint,\ntiporecurso_id            bigint,\nauditinsert               datetime not null,\nauditlastupdate           datetime not null,\nconstraint pk_clasificador_ejemplo primary key (id))\n;\n\ncreate table clasificador_noevaluable (\nid                        bigint auto_increment not null,\ncriterio1_id              bigint,\ncriterio2_id              bigint,\ncriterio3_id              bigint,\nauditinsert               datetime not null,\nauditlastupdate           datetime not null,\nconstraint pk_clasificador_noevaluable primary key (id))\n;\n\ncreate table clasificador_tiporecurso (\nid                        bigint auto_increment not null,\ndescripcion               varchar(255),\nauditinsert               datetime not null,\nauditlastupdate           datetime not null,\nconstraint pk_clasificador_tiporecurso primary key (id))\n;\n\ncreate table correo_autor (\nid                        bigint auto_increment not null,\nautor_id                  bigint,\nemail                     varchar(50),\ntelefono                  varchar(5),\nauditinsert               datetime not null,\nauditlastupdate           datetime not null,\nconstraint pk_correo_autor primary key (id))\n;\n\ncreate table correo_salida (\nid                        bigint auto_increment not null,\nrecurso_id                bigint,\nestado_id                 bigint,\nasunto                    varchar(255),\nmensaje                   varchar(900),\nhost                      varchar(255),\nde                        varchar(255),\nenviado                   tinyint(1) default 0,\nmensajeoperacion          varchar(255),\nauditinsert               datetime not null,\nauditlastupdate           datetime not null,\nconstraint pk_correo_salida primary key (id))\n;\n\ncreate table correo_salida_para (\nid                        bigint auto_increment not null,\ncorreosalida_id           bigint,\npara                      varchar(255),\nauditinsert               datetime not null,\nauditlastupdate           datetime not null,\nconstraint pk_correo_salida_para primary key (id))\n;\n\ncreate table ctacorreo (\nid                        bigint auto_increment not null,\nhostname                  varchar(255) not null,\npuerto                    varchar(255) not null,\ncuenta                    varchar(255),\ncontrasenia               varchar(255),\nauditinsert               datetime not null,\nauditlastupdate           datetime not null,\nconstraint pk_ctacorreo primary key (id))\n;\n\ncreate table dirigidoa (\nid                        bigint auto_increment not null,\ndescripcion               varchar(255),\nauditinsert               datetime not null,\nauditlastupdate           datetime not null,\nconstraint pk_dirigidoa primary key (id))\n;\n\ncreate table documento (\nid                        bigint auto_increment not null,\nrecurso_id                bigint,\ntipodocumento_id          bigint,\nnombrearchivo             varchar(255),\ncontenttype               varchar(255),\ncontenido                 longblob,\nauditinsert               datetime not null,\nauditlastupdate           datetime not null,\nconstraint pk_documento primary key (id))\n;\n\ncreate table encuesta_observacion (\nid                        bigint auto_increment not null,\nencuesta_id               bigint,\nrespuesta                 varchar(255) not null,\ndescripcion               varchar(600) not null,\nauditinsert               datetime not null,\nauditlastupdate           datetime not null,\nconstraint pk_encuesta_observacion primary key (id))\n;\n\ncreate table encuesta_reactivo (\nid                        bigint auto_increment not null,\nnumreactivo               bigint,\nreactivo                  varchar(255),\nauditinsert               datetime not null,\nauditlastupdate           datetime not null,\nconstraint pk_encuesta_reactivo primary key (id))\n;\n\ncreate table encuesta_respuesta (\nid                        bigint auto_increment not null,\nrecurso_id                bigint,\nrespuesta1                varchar(255),\nrespuesta1txt             varchar(600),\nrespuesta2                varchar(255),\nrespuesta2txt             varchar(600),\nrespuesta3                varchar(255),\nrespuesta3txt             varchar(600),\nrespuesta4                varchar(255),\nrespuesta4txt             varchar(600),\nrespuesta5txt             varchar(600),\nestado_id                 bigint,\nauditinsert               datetime not null,\nauditlastupdate           datetime not null,\nconstraint pk_encuesta_respuesta primary key (id))\n;\n\ncreate table estado (\nid                        bigint auto_increment not null,\ndescripcion               varchar(255),\nauditinsert               datetime not null,\nauditlastupdate           datetime not null,\nconstraint pk_estado primary key (id))\n;\n\ncreate table estado_activo (\nid                        bigint auto_increment not null,\ndescripcion               varchar(255),\nauditinsert               datetime not null,\nauditlastupdate           datetime not null,\nconstraint pk_estado_activo primary key (id))\n;\n\ncreate table estado_encuesta (\nid                        bigint auto_increment not null,\ndescripcion               varchar(255),\nauditinsert               datetime not null,\nauditlastupdate           datetime not null,\nconstraint pk_estado_encuesta primary key (id))\n;\n\ncreate table estado_evaluacion (\nid                        bigint auto_increment not null,\ndescripcion               varchar(255),\nauditinsert               datetime not null,\nauditlastupdate           datetime not null,\nconstraint pk_estado_evaluacion primary key (id))\n;\n\ncreate table evaluacion (\nid                        bigint auto_increment not null,\nrecursoevaluador_id       bigint,\nevaluaciontabla_id        bigint not null,\nrespuesta                 integer not null,\nauditinsert               datetime not null,\nauditlastupdate           datetime not null,\nconstraint pk_evaluacion primary key (id))\n;\n\ncreate table evaluacion_fecha (\nid                        bigint auto_increment not null,\nrecurso_id                bigint,\nfechainicio               datetime,\nndias                     integer,\nfechalimite               datetime,\nauditinsert               datetime not null,\nauditlastupdate           datetime not null,\nconstraint pk_evaluacion_fecha primary key (id))\n;\n\ncreate table evaluacion_observacion (\nid                        bigint auto_increment not null,\nrespuesta_id              bigint,\nobservacion               varchar(600) not null,\nauditinsert               datetime not null,\nauditlastupdate           datetime not null,\nconstraint pk_evaluacion_observacion primary key (id))\n;\n\ncreate table evaluacion_observacion_gral (\nid                        bigint auto_increment not null,\nrecursoevaluador_id       bigint,\nobservacion               varchar(900),\nauditinsert               datetime not null,\nauditlastupdate           datetime not null,\nconstraint pk_evaluacion_observacion_gral primary key (id))\n;\n\ncreate table evaluacion_observacion_observacion_gral (\nid                        bigint auto_increment not null,\nevaluacionobservaciongral_id bigint,\nobservacion               varchar(900),\nauditinsert               datetime not null,\nauditlastupdate           datetime not null,\nconstraint pk_evaluacion_observacion_observacion_gral primary key (id))\n;\n\ncreate table evaluacion_prorroga (\nid                        bigint auto_increment not null,\nrecursoevaluador_id       bigint,\nndias                     integer not null,\nfecha                     datetime not null,\nautorizado                tinyint(1) default 0,\nauditinsert               datetime not null,\nauditlastupdate           datetime not null,\nconstraint pk_evaluacion_prorroga primary key (id))\n;\n\ncreate table evaluacion_tabla (\nid                        bigint auto_increment not null,\nversion_id                bigint,\nreactivo_id               bigint,\naspecto_id                bigint,\ncriterio1_id              bigint,\ncriterio2_id              bigint,\ncriterio3_id              bigint,\nauditinsert               datetime not null,\nauditlastupdate           datetime not null,\nconstraint pk_evaluacion_tabla primary key (id))\n;\n\ncreate table evaluacion_tabla_reactivo (\nid                        bigint auto_increment not null,\ndescripcion               varchar(600),\nauditinsert               datetime not null,\nauditlastupdate           datetime not null,\nconstraint pk_evaluacion_tabla_reactivo primary key (id))\n;\n\ncreate table evaluacion_tabla_tipo_recurso (\nid                        bigint auto_increment not null,\nevaluaciontabla_id        bigint,\ntiporecurso_id            bigint,\nauditinsert               datetime not null,\nauditlastupdate           datetime not null,\nconstraint pk_evaluacion_tabla_tipo_recurso primary key (id))\n;\n\ncreate table evaluacion_tabla_version (\nid                        bigint auto_increment not null,\nversion                   bigint not null,\nterminado                 varchar(1),\nauditinsert               datetime not null,\nauditlastupdate           datetime not null,\nconstraint pk_evaluacion_tabla_version primary key (id))\n;\n\ncreate table evaluador (\nid                        bigint auto_increment not null,\npersonal_id               bigint,\nauditinsert               datetime not null,\nauditlastupdate           datetime not null,\nconstraint pk_evaluador primary key (id))\n;\n\ncreate table evaluador_aspecto (\nid                        bigint auto_increment not null,\nevaluador_id              bigint not null,\naspecto_id                bigint not null,\nauditinsert               datetime not null,\nauditlastupdate           datetime not null,\nconstraint pk_evaluador_aspecto primary key (id))\n;\n\ncreate table formatoentrega (\nid                        bigint auto_increment not null,\ndescripcion               varchar(255),\nauditinsert               datetime not null,\nauditlastupdate           datetime not null,\nconstraint pk_formatoentrega primary key (id))\n;\n\ncreate table historialestado (\nid                        bigint auto_increment not null,\nrecurso_id                bigint not null,\nestado_id                 bigint not null,\nauditinsert               datetime not null,\nauditlastupdate           datetime not null,\nconstraint pk_historialestado primary key (id))\n;\n\ncreate table historialestado_encuesta (\nid                        bigint auto_increment not null,\nrecurso_id                bigint not null,\nestado_id                 bigint not null,\nauditinsert               datetime not null,\nauditlastupdate           datetime not null,\nconstraint pk_historialestado_encuesta primary key (id))\n;\n\ncreate table historialestado_evaluacion (\nid                        bigint auto_increment not null,\nrecurso_id                bigint not null,\nrecursoevaluador_id       bigint not null,\nestado_id                 bigint not null,\nauditinsert               datetime not null,\nauditlastupdate           datetime not null,\nconstraint pk_historialestado_evaluacion primary key (id))\n;\n\ncreate table modalidad (\nid                        bigint auto_increment not null,\ndescripcion               varchar(255),\nauditinsert               datetime not null,\nauditlastupdate           datetime not null,\nconstraint pk_modalidad primary key (id))\n;\n\ncreate table niveleducativo (\nid                        bigint auto_increment not null,\ndescripcion               varchar(255),\nauditinsert               datetime not null,\nauditlastupdate           datetime not null,\nconstraint pk_niveleducativo primary key (id))\n;\n\ncreate table observacion (\nid                        bigint auto_increment not null,\nrecurso_id                bigint,\ncampo                     varchar(255),\nobservacion               varchar(600) not null,\nauditinsert               datetime not null,\nauditlastupdate           datetime not null,\nconstraint pk_observacion primary key (id))\n;\n\ncreate table observacion_cancelacion (\nid                        bigint auto_increment not null,\nrecurso_id                bigint,\nobservacion               varchar(600) not null,\nauditinsert               datetime not null,\nauditlastupdate           datetime not null,\nconstraint pk_observacion_cancelacion primary key (id))\n;\n\ncreate table oficio (\nid                        bigint auto_increment not null,\nrecurso_id                bigint,\nnumero                    varchar(255) not null,\nfolio                     varchar(255) not null,\ncontenttype               varchar(255),\ncontenido                 longblob,\nnombrearchivo             varchar(255),\nfechaoficio               datetime,\nfecharecepcion            datetime,\nauditinsert               datetime not null,\nauditlastupdate           datetime not null,\nconstraint pk_oficio primary key (id))\n;\n\ncreate table oficio_valoracion (\nid                        bigint auto_increment not null,\nrecurso_id                bigint,\nnumero                    varchar(255) not null,\ncontenttype               varchar(255),\ncontenido                 longblob,\nnombrearchivo             varchar(255),\nfechaoficio               datetime,\nauditinsert               datetime not null,\nauditlastupdate           datetime not null,\nconstraint pk_oficio_valoracion primary key (id))\n;\n\ncreate table palabraclave (\nid                        bigint auto_increment not null,\nrecurso_id                bigint,\ndescripcion               varchar(35),\nauditinsert               datetime not null,\nauditlastupdate           datetime not null,\nconstraint pk_palabraclave primary key (id))\n;\n\ncreate table personal (\nid                        bigint auto_increment not null,\nnombre                    varchar(255),\npaterno                   varchar(255),\nmaterno                   varchar(255),\ncorreo                    varchar(255),\nactivo_id                 bigint,\nauditinsert               datetime not null,\nauditlastupdate           datetime not null,\nconstraint pk_personal primary key (id))\n;\n\ncreate table recurso (\nid                        bigint auto_increment not null,\ntitulo                    varchar(150) not null,\nareaconocimiento_id       bigint not null,\nniveleducativo_id         bigint not null,\nunidadmedida_id           bigint,\nduracion                  varchar(5),\nunidadacademica_id        bigint not null,\nalcancecurricular_id      bigint,\nalcancecurricularotro     varchar(120),\nelaboracion               datetime not null,\nprogramaacad              varchar(80) not null,\nmodalidad_id              bigint not null,\nversion_id                bigint not null,\nsinopsis                  varchar(250),\nformatoentrega_id         bigint not null,\nformatoentregaotro        varchar(100),\nurl                       varchar(80),\nestado_id                 bigint,\nnumcontrol                varchar(255),\nauditinsert               datetime not null,\nauditlastupdate           datetime not null,\nconstraint uq_recurso_numcontrol unique (numcontrol),\nconstraint pk_recurso primary key (id))\n;\n\ncreate table recurso_autor (\nid                        bigint auto_increment not null,\nrecurso_id                bigint,\nautorfuncion_id           bigint,\notrafuncion               varchar(255),\npaterno                   varchar(35),\nmaterno                   varchar(35),\nnombre                    varchar(40),\nauditinsert               datetime not null,\nauditlastupdate           datetime not null,\nconstraint pk_recurso_autor primary key (id))\n;\n\ncreate table recursoenweb (\nid                        bigint auto_increment not null,\nrecurso_id                bigint,\nusuario                   varchar(20),\npassword                  varchar(50),\nauditinsert               datetime not null,\nauditlastupdate           datetime not null,\nconstraint pk_recursoenweb primary key (id))\n;\n\ncreate table recursoevaluador (\nid                        bigint auto_increment not null,\nrecurso_id                bigint,\naspecto_id                bigint,\nevaluador_id              bigint,\nestadoevaluacion_id       bigint,\nauditinsert               datetime not null,\nauditlastupdate           datetime not null,\nconstraint pk_recursoevaluador primary key (id))\n;\n\ncreate table registro_acceso (\nid                        bigint auto_increment not null,\nusuario_id                bigint,\nautor_id                  bigint,\nruta                      varchar(255),\nip                        varchar(255),\nfecha                     datetime,\nauditinsert               datetime not null,\nauditlastupdate           datetime not null,\nconstraint pk_registro_acceso primary key (id))\n;\n\ncreate table rol (\nid                        bigint auto_increment not null,\ndescripcion               varchar(255) not null,\nauditinsert               datetime not null,\nauditlastupdate           datetime not null,\nconstraint pk_rol primary key (id))\n;\n\ncreate table solicitud_cancelacion (\nid                        bigint auto_increment not null,\nrecurso_id                bigint,\nevaluador_id              bigint,\nrecursoestadoanterior_id  bigint,\nmotivo_cancelacion        varchar(255),\nobservacion               varchar(255),\nfecha_solicitud           datetime not null,\naceptada                  tinyint(1) default 0,\nfecha_aceptacion          datetime,\nfecha_reactivacion        datetime,\nauditinsert               datetime not null,\nauditlastupdate           datetime not null,\nconstraint pk_solicitud_cancelacion primary key (id))\n;\n\ncreate table tipodocumento (\nid                        bigint auto_increment not null,\ndescripcion               varchar(255),\nestado_id                 bigint,\nobligatorio               integer,\nauditinsert               datetime not null,\nauditlastupdate           datetime not null,\nconstraint pk_tipodocumento primary key (id))\n;\n\ncreate table unidad_medida (\nid                        bigint auto_increment not null,\ndescripcion               varchar(255),\nauditinsert               datetime not null,\nauditlastupdate           datetime not null,\nconstraint pk_unidad_medida primary key (id))\n;\n\ncreate table unidadacademica (\nid                        bigint auto_increment not null,\nnombre                    varchar(255),\nauditinsert               datetime not null,\nauditlastupdate           datetime not null,\nconstraint pk_unidadacademica primary key (id))\n;\n\ncreate table unidadacademica_areaconocimiento (\nid                        bigint auto_increment not null,\nunidadacademica_id        bigint,\narea_id                   bigint,\nauditinsert               datetime not null,\nauditlastupdate           datetime not null,\nconstraint pk_unidadacademica_areaconocimiento primary key (id))\n;\n\ncreate table unidadacademica_niveleducativo (\nid                        bigint auto_increment not null,\nunidadacademica_id        bigint,\nnivel_id                  bigint,\nauditinsert               datetime not null,\nauditlastupdate           datetime not null,\nconstraint pk_unidadacademica_niveleducativo primary key (id))\n;\n\ncreate table usuario (\nid                        bigint auto_increment not null,\npersonal_id               bigint,\nusuario                   varchar(255) not null,\npassword                  varchar(255) not null,\nauditinsert               datetime not null,\nauditlastupdate           datetime not null,\nconstraint pk_usuario primary key (id))\n;\n\ncreate table usuario_rol (\nid                        bigint auto_increment not null,\nusuario_id                bigint,\nrol_id                    bigint,\nauditinsert               datetime not null,\nauditlastupdate           datetime not null,\nconstraint pk_usuario_rol primary key (id))\n;\n\ncreate table version (\nid                        bigint auto_increment not null,\ndescripcion               varchar(255),\nauditinsert               datetime not null,\nauditlastupdate           datetime not null,\nconstraint pk_version primary key (id))\n;\n\ncreate table versionanterior (\nid                        bigint auto_increment not null,\nrecurso_id                bigint,\nrecursoanterior_id        bigint not null,\nauditinsert               datetime not null,\nauditlastupdate           datetime not null,\nconstraint pk_versionanterior primary key (id))\n;\n\ncreate table clasificacion_observacion (\nid                        bigint auto_increment not null,\nclasificacion_id          bigint,\nobservacion               varchar(255) not null,\nauditinsert               datetime not null,\nauditlastupdate           datetime not null,\nconstraint pk_clasificacion_observacion primary key (id))\n;\n\ncreate table recurso_dirigidoa (\nid                        bigint auto_increment not null,\nrecurso_id                bigint,\ndirigidoa_id              bigint,\nauditinsert               datetime not null,\nauditlastupdate           datetime not null,\nconstraint pk_recurso_dirigidoa primary key (id))\n;\n\nalter table clasificacion add constraint fk_clasificacion_recurso_1 foreign key (recurso_id) references recurso (id) on delete restrict on update restrict;\ncreate index ix_clasificacion_recurso_1 on clasificacion (recurso_id);\nalter table clasificacion add constraint fk_clasificacion_criterio1_2 foreign key (criterio1_id) references clasificador_criterio1 (id) on delete restrict on update restrict;\ncreate index ix_clasificacion_criterio1_2 on clasificacion (criterio1_id);\nalter table clasificacion add constraint fk_clasificacion_criterio2_3 foreign key (criterio2_id) references clasificador_criterio2 (id) on delete restrict on update restrict;\ncreate index ix_clasificacion_criterio2_3 on clasificacion (criterio2_id);\nalter table clasificacion add constraint fk_clasificacion_criterio3_4 foreign key (criterio3_id) references clasificador_criterio3 (id) on delete restrict on update restrict;\ncreate index ix_clasificacion_criterio3_4 on clasificacion (criterio3_id);\nalter table clasificacion add constraint fk_clasificacion_tiporecurso_5 foreign key (tiporecurso_id) references clasificador_tiporecurso (id) on delete restrict on update restrict;\ncreate index ix_clasificacion_tiporecurso_5 on clasificacion (tiporecurso_id);\nalter table clasificador_cancelable add constraint fk_clasificador_cancelable_criterio1_6 foreign key (criterio1_id) references clasificador_criterio1 (id) on delete restrict on update restrict;\ncreate index ix_clasificador_cancelable_criterio1_6 on clasificador_cancelable (criterio1_id);\nalter table clasificador_cancelable add constraint fk_clasificador_cancelable_criterio2_7 foreign key (criterio2_id) references clasificador_criterio2 (id) on delete restrict on update restrict;\ncreate index ix_clasificador_cancelable_criterio2_7 on clasificador_cancelable (criterio2_id);\nalter table clasificador_cancelable add constraint fk_clasificador_cancelable_criterio3_8 foreign key (criterio3_id) references clasificador_criterio3 (id) on delete restrict on update restrict;\ncreate index ix_clasificador_cancelable_criterio3_8 on clasificador_cancelable (criterio3_id);\nalter table clasificador_criterio2 add constraint fk_clasificador_criterio2_criterio1_9 foreign key (criterio1_id) references clasificador_criterio1 (id) on delete restrict on update restrict;\ncreate index ix_clasificador_criterio2_criterio1_9 on clasificador_criterio2 (criterio1_id);\nalter table clasificador_criterio3 add constraint fk_clasificador_criterio3_criterio1_10 foreign key (criterio1_id) references clasificador_criterio1 (id) on delete restrict on update restrict;\ncreate index ix_clasificador_criterio3_criterio1_10 on clasificador_criterio3 (criterio1_id);\nalter table clasificador_criterio3 add constraint fk_clasificador_criterio3_criterio2_11 foreign key (criterio2_id) references clasificador_criterio2 (id) on delete restrict on update restrict;\ncreate index ix_clasificador_criterio3_criterio2_11 on clasificador_criterio3 (criterio2_id);\nalter table clasificador_criterio3 add constraint fk_clasificador_criterio3_catalogo_12 foreign key (catalogo_id) references clasificador_catalogo_criterio3 (id) on delete restrict on update restrict;\ncreate index ix_clasificador_criterio3_catalogo_12 on clasificador_criterio3 (catalogo_id);\nalter table clasificador_criterio3ejemplo add constraint fk_clasificador_criterio3ejemplo_criterio3_13 foreign key (criterio3_id) references clasificador_criterio3 (id) on delete restrict on update restrict;\ncreate index ix_clasificador_criterio3ejemplo_criterio3_13 on clasificador_criterio3ejemplo (criterio3_id);\nalter table clasificador_criterio3ejemplo add constraint fk_clasificador_criterio3ejemplo_tiporecurso_14 foreign key (tiporecurso_id) references clasificador_tiporecurso (id) on delete restrict on update restrict;\ncreate index ix_clasificador_criterio3ejemplo_tiporecurso_14 on clasificador_criterio3ejemplo (tiporecurso_id);\nalter table clasificador_ejemplo add constraint fk_clasificador_ejemplo_criterio1_15 foreign key (criterio1_id) references clasificador_criterio1 (id) on delete restrict on update restrict;\ncreate index ix_clasificador_ejemplo_criterio1_15 on clasificador_ejemplo (criterio1_id);\nalter table clasificador_ejemplo add constraint fk_clasificador_ejemplo_criterio2_16 foreign key (criterio2_id) references clasificador_criterio2 (id) on delete restrict on update restrict;\ncreate index ix_clasificador_ejemplo_criterio2_16 on clasificador_ejemplo (criterio2_id);\nalter table clasificador_ejemplo add constraint fk_clasificador_ejemplo_criterio3_17 foreign key (criterio3_id) references clasificador_criterio3 (id) on delete restrict on update restrict;\ncreate index ix_clasificador_ejemplo_criterio3_17 on clasificador_ejemplo (criterio3_id);\nalter table clasificador_ejemplo add constraint fk_clasificador_ejemplo_tiporecurso_18 foreign key (tiporecurso_id) references clasificador_tiporecurso (id) on delete restrict on update restrict;\ncreate index ix_clasificador_ejemplo_tiporecurso_18 on clasificador_ejemplo (tiporecurso_id);\nalter table clasificador_noevaluable add constraint fk_clasificador_noevaluable_criterio1_19 foreign key (criterio1_id) references clasificador_criterio1 (id) on delete restrict on update restrict;\ncreate index ix_clasificador_noevaluable_criterio1_19 on clasificador_noevaluable (criterio1_id);\nalter table clasificador_noevaluable add constraint fk_clasificador_noevaluable_criterio2_20 foreign key (criterio2_id) references clasificador_criterio2 (id) on delete restrict on update restrict;\ncreate index ix_clasificador_noevaluable_criterio2_20 on clasificador_noevaluable (criterio2_id);\nalter table clasificador_noevaluable add constraint fk_clasificador_noevaluable_criterio3_21 foreign key (criterio3_id) references clasificador_criterio3 (id) on delete restrict on update restrict;\ncreate index ix_clasificador_noevaluable_criterio3_21 on clasificador_noevaluable (criterio3_id);\nalter table correo_autor add constraint fk_correo_autor_autor_22 foreign key (autor_id) references recurso_autor (id) on delete restrict on update restrict;\ncreate index ix_correo_autor_autor_22 on correo_autor (autor_id);\nalter table correo_salida add constraint fk_correo_salida_recurso_23 foreign key (recurso_id) references recurso (id) on delete restrict on update restrict;\ncreate index ix_correo_salida_recurso_23 on correo_salida (recurso_id);\nalter table correo_salida add constraint fk_correo_salida_estado_24 foreign key (estado_id) references estado (id) on delete restrict on update restrict;\ncreate index ix_correo_salida_estado_24 on correo_salida (estado_id);\nalter table correo_salida_para add constraint fk_correo_salida_para_correosalida_25 foreign key (correosalida_id) references correo_salida (id) on delete restrict on update restrict;\ncreate index ix_correo_salida_para_correosalida_25 on correo_salida_para (correosalida_id);\nalter table documento add constraint fk_documento_recurso_26 foreign key (recurso_id) references recurso (id) on delete restrict on update restrict;\ncreate index ix_documento_recurso_26 on documento (recurso_id);\nalter table documento add constraint fk_documento_tipodocumento_27 foreign key (tipodocumento_id) references tipodocumento (id) on delete restrict on update restrict;\ncreate index ix_documento_tipodocumento_27 on documento (tipodocumento_id);\nalter table encuesta_observacion add constraint fk_encuesta_observacion_encuesta_28 foreign key (encuesta_id) references encuesta_respuesta (id) on delete restrict on update restrict;\ncreate index ix_encuesta_observacion_encuesta_28 on encuesta_observacion (encuesta_id);\nalter table encuesta_respuesta add constraint fk_encuesta_respuesta_recurso_29 foreign key (recurso_id) references recurso (id) on delete restrict on update restrict;\ncreate index ix_encuesta_respuesta_recurso_29 on encuesta_respuesta (recurso_id);\nalter table encuesta_respuesta add constraint fk_encuesta_respuesta_estado_30 foreign key (estado_id) references estado_encuesta (id) on delete restrict on update restrict;\ncreate index ix_encuesta_respuesta_estado_30 on encuesta_respuesta (estado_id);\nalter table evaluacion add constraint fk_evaluacion_recursoevaluador_31 foreign key (recursoevaluador_id) references recursoevaluador (id) on delete restrict on update restrict;\ncreate index ix_evaluacion_recursoevaluador_31 on evaluacion (recursoevaluador_id);\nalter table evaluacion add constraint fk_evaluacion_evaluaciontabla_32 foreign key (evaluaciontabla_id) references evaluacion_tabla (id) on delete restrict on update restrict;\ncreate index ix_evaluacion_evaluaciontabla_32 on evaluacion (evaluaciontabla_id);\nalter table evaluacion_fecha add constraint fk_evaluacion_fecha_recurso_33 foreign key (recurso_id) references recurso (id) on delete restrict on update restrict;\ncreate index ix_evaluacion_fecha_recurso_33 on evaluacion_fecha (recurso_id);\nalter table evaluacion_observacion add constraint fk_evaluacion_observacion_respuesta_34 foreign key (respuesta_id) references evaluacion (id) on delete restrict on update restrict;\ncreate index ix_evaluacion_observacion_respuesta_34 on evaluacion_observacion (respuesta_id);\nalter table evaluacion_observacion_gral add constraint fk_evaluacion_observacion_gral_recursoevaluador_35 foreign key (recursoevaluador_id) references recursoevaluador (id) on delete restrict on update restrict;\ncreate index ix_evaluacion_observacion_gral_recursoevaluador_35 on evaluacion_observacion_gral (recursoevaluador_id);\nalter table evaluacion_observacion_observacion_gral add constraint fk_evaluacion_observacion_observacion_gral_evaluacionobservac_36 foreign key (evaluacionobservaciongral_id) references evaluacion_observacion_gral (id) on delete restrict on update restrict;\ncreate index ix_evaluacion_observacion_observacion_gral_evaluacionobservac_36 on evaluacion_observacion_observacion_gral (evaluacionobservaciongral_id);\nalter table evaluacion_prorroga add constraint fk_evaluacion_prorroga_recursoevaluador_37 foreign key (recursoevaluador_id) references recursoevaluador (id) on delete restrict on update restrict;\ncreate index ix_evaluacion_prorroga_recursoevaluador_37 on evaluacion_prorroga (recursoevaluador_id);\nalter table evaluacion_tabla add constraint fk_evaluacion_tabla_version_38 foreign key (version_id) references evaluacion_tabla_version (id) on delete restrict on update restrict;\ncreate index ix_evaluacion_tabla_version_38 on evaluacion_tabla (version_id);\nalter table evaluacion_tabla add constraint fk_evaluacion_tabla_reactivo_39 foreign key (reactivo_id) references evaluacion_tabla_reactivo (id) on delete restrict on update restrict;\ncreate index ix_evaluacion_tabla_reactivo_39 on evaluacion_tabla (reactivo_id);\nalter table evaluacion_tabla add constraint fk_evaluacion_tabla_aspecto_40 foreign key (aspecto_id) references aspecto (id) on delete restrict on update restrict;\ncreate index ix_evaluacion_tabla_aspecto_40 on evaluacion_tabla (aspecto_id);\nalter table evaluacion_tabla add constraint fk_evaluacion_tabla_criterio1_41 foreign key (criterio1_id) references clasificador_criterio1 (id) on delete restrict on update restrict;\ncreate index ix_evaluacion_tabla_criterio1_41 on evaluacion_tabla (criterio1_id);\nalter table evaluacion_tabla add constraint fk_evaluacion_tabla_criterio2_42 foreign key (criterio2_id) references clasificador_criterio2 (id) on delete restrict on update restrict;\ncreate index ix_evaluacion_tabla_criterio2_42 on evaluacion_tabla (criterio2_id);\nalter table evaluacion_tabla add constraint fk_evaluacion_tabla_criterio3_43 foreign key (criterio3_id) references clasificador_criterio3 (id) on delete restrict on update restrict;\ncreate index ix_evaluacion_tabla_criterio3_43 on evaluacion_tabla (criterio3_id);\nalter table evaluacion_tabla_tipo_recurso add constraint fk_evaluacion_tabla_tipo_recurso_evaluaciontabla_44 foreign key (evaluaciontabla_id) references evaluacion_tabla (id) on delete restrict on update restrict;\ncreate index ix_evaluacion_tabla_tipo_recurso_evaluaciontabla_44 on evaluacion_tabla_tipo_recurso (evaluaciontabla_id);\nalter table evaluacion_tabla_tipo_recurso add constraint fk_evaluacion_tabla_tipo_recurso_tiporecurso_45 foreign key (tiporecurso_id) references clasificador_tiporecurso (id) on delete restrict on update restrict;\ncreate index ix_evaluacion_tabla_tipo_recurso_tiporecurso_45 on evaluacion_tabla_tipo_recurso (tiporecurso_id);\nalter table evaluador add constraint fk_evaluador_personal_46 foreign key (personal_id) references personal (id) on delete restrict on update restrict;\ncreate index ix_evaluador_personal_46 on evaluador (personal_id);\nalter table evaluador_aspecto add constraint fk_evaluador_aspecto_evaluador_47 foreign key (evaluador_id) references evaluador (id) on delete restrict on update restrict;\ncreate index ix_evaluador_aspecto_evaluador_47 on evaluador_aspecto (evaluador_id);\nalter table evaluador_aspecto add constraint fk_evaluador_aspecto_aspecto_48 foreign key (aspecto_id) references aspecto (id) on delete restrict on update restrict;\ncreate index ix_evaluador_aspecto_aspecto_48 on evaluador_aspecto (aspecto_id);\nalter table historialestado add constraint fk_historialestado_recurso_49 foreign key (recurso_id) references recurso (id) on delete restrict on update restrict;\ncreate index ix_historialestado_recurso_49 on historialestado (recurso_id);\nalter table historialestado add constraint fk_historialestado_estado_50 foreign key (estado_id) references estado (id) on delete restrict on update restrict;\ncreate index ix_historialestado_estado_50 on historialestado (estado_id);\nalter table historialestado_encuesta add constraint fk_historialestado_encuesta_recurso_51 foreign key (recurso_id) references recurso (id) on delete restrict on update restrict;\ncreate index ix_historialestado_encuesta_recurso_51 on historialestado_encuesta (recurso_id);\nalter table historialestado_encuesta add constraint fk_historialestado_encuesta_estado_52 foreign key (estado_id) references estado_encuesta (id) on delete restrict on update restrict;\ncreate index ix_historialestado_encuesta_estado_52 on historialestado_encuesta (estado_id);\nalter table historialestado_evaluacion add constraint fk_historialestado_evaluacion_recurso_53 foreign key (recurso_id) references recurso (id) on delete restrict on update restrict;\ncreate index ix_historialestado_evaluacion_recurso_53 on historialestado_evaluacion (recurso_id);\nalter table historialestado_evaluacion add constraint fk_historialestado_evaluacion_recursoevaluador_54 foreign key (recursoevaluador_id) references recursoevaluador (id) on delete restrict on update restrict;\ncreate index ix_historialestado_evaluacion_recursoevaluador_54 on historialestado_evaluacion (recursoevaluador_id);\nalter table historialestado_evaluacion add constraint fk_historialestado_evaluacion_estado_55 foreign key (estado_id) references estado_evaluacion (id) on delete restrict on update restrict;\ncreate index ix_historialestado_evaluacion_estado_55 on historialestado_evaluacion (estado_id);\nalter table observacion add constraint fk_observacion_recurso_56 foreign key (recurso_id) references recurso (id) on delete restrict on update restrict;\ncreate index ix_observacion_recurso_56 on observacion (recurso_id);\nalter table observacion_cancelacion add constraint fk_observacion_cancelacion_recurso_57 foreign key (recurso_id) references recurso (id) on delete restrict on update restrict;\ncreate index ix_observacion_cancelacion_recurso_57 on observacion_cancelacion (recurso_id);\nalter table oficio add constraint fk_oficio_recurso_58 foreign key (recurso_id) references recurso (id) on delete restrict on update restrict;\ncreate index ix_oficio_recurso_58 on oficio (recurso_id);\nalter table oficio_valoracion add constraint fk_oficio_valoracion_recurso_59 foreign key (recurso_id) references recurso (id) on delete restrict on update restrict;\ncreate index ix_oficio_valoracion_recurso_59 on oficio_valoracion (recurso_id);\nalter table palabraclave add constraint fk_palabraclave_recurso_60 foreign key (recurso_id) references recurso (id) on delete restrict on update restrict;\ncreate index ix_palabraclave_recurso_60 on palabraclave (recurso_id);\nalter table personal add constraint fk_personal_activo_61 foreign key (activo_id) references estado_activo (id) on delete restrict on update restrict;\ncreate index ix_personal_activo_61 on personal (activo_id);\nalter table recurso add constraint fk_recurso_areaconocimiento_62 foreign key (areaconocimiento_id) references areaconocimiento (id) on delete restrict on update restrict;\ncreate index ix_recurso_areaconocimiento_62 on recurso (areaconocimiento_id);\nalter table recurso add constraint fk_recurso_niveleducativo_63 foreign key (niveleducativo_id) references niveleducativo (id) on delete restrict on update restrict;\ncreate index ix_recurso_niveleducativo_63 on recurso (niveleducativo_id);\nalter table recurso add constraint fk_recurso_unidadmedida_64 foreign key (unidadmedida_id) references unidad_medida (id) on delete restrict on update restrict;\ncreate index ix_recurso_unidadmedida_64 on recurso (unidadmedida_id);\nalter table recurso add constraint fk_recurso_unidadacademica_65 foreign key (unidadacademica_id) references unidadacademica (id) on delete restrict on update restrict;\ncreate index ix_recurso_unidadacademica_65 on recurso (unidadacademica_id);\nalter table recurso add constraint fk_recurso_alcancecurricular_66 foreign key (alcancecurricular_id) references alcance_curricular (id) on delete restrict on update restrict;\ncreate index ix_recurso_alcancecurricular_66 on recurso (alcancecurricular_id);\nalter table recurso add constraint fk_recurso_modalidad_67 foreign key (modalidad_id) references modalidad (id) on delete restrict on update restrict;\ncreate index ix_recurso_modalidad_67 on recurso (modalidad_id);\nalter table recurso add constraint fk_recurso_version_68 foreign key (version_id) references version (id) on delete restrict on update restrict;\ncreate index ix_recurso_version_68 on recurso (version_id);\nalter table recurso add constraint fk_recurso_formatoentrega_69 foreign key (formatoentrega_id) references formatoentrega (id) on delete restrict on update restrict;\ncreate index ix_recurso_formatoentrega_69 on recurso (formatoentrega_id);\nalter table recurso add constraint fk_recurso_estado_70 foreign key (estado_id) references estado (id) on delete restrict on update restrict;\ncreate index ix_recurso_estado_70 on recurso (estado_id);\nalter table recurso_autor add constraint fk_recurso_autor_recurso_71 foreign key (recurso_id) references recurso (id) on delete restrict on update restrict;\ncreate index ix_recurso_autor_recurso_71 on recurso_autor (recurso_id);\nalter table recurso_autor add constraint fk_recurso_autor_autorfuncion_72 foreign key (autorfuncion_id) references autorfuncion (id) on delete restrict on update restrict;\ncreate index ix_recurso_autor_autorfuncion_72 on recurso_autor (autorfuncion_id);\nalter table recursoenweb add constraint fk_recursoenweb_recurso_73 foreign key (recurso_id) references recurso (id) on delete restrict on update restrict;\ncreate index ix_recursoenweb_recurso_73 on recursoenweb (recurso_id);\nalter table recursoevaluador add constraint fk_recursoevaluador_recurso_74 foreign key (recurso_id) references recurso (id) on delete restrict on update restrict;\ncreate index ix_recursoevaluador_recurso_74 on recursoevaluador (recurso_id);\nalter table recursoevaluador add constraint fk_recursoevaluador_aspecto_75 foreign key (aspecto_id) references aspecto (id) on delete restrict on update restrict;\ncreate index ix_recursoevaluador_aspecto_75 on recursoevaluador (aspecto_id);\nalter table recursoevaluador add constraint fk_recursoevaluador_evaluador_76 foreign key (evaluador_id) references evaluador (id) on delete restrict on update restrict;\ncreate index ix_recursoevaluador_evaluador_76 on recursoevaluador (evaluador_id);\nalter table recursoevaluador add constraint fk_recursoevaluador_estadoevaluacion_77 foreign key (estadoevaluacion_id) references estado_evaluacion (id) on delete restrict on update restrict;\ncreate index ix_recursoevaluador_estadoevaluacion_77 on recursoevaluador (estadoevaluacion_id);\nalter table registro_acceso add constraint fk_registro_acceso_usuario_78 foreign key (usuario_id) references usuario (id) on delete restrict on update restrict;\ncreate index ix_registro_acceso_usuario_78 on registro_acceso (usuario_id);\nalter table registro_acceso add constraint fk_registro_acceso_autor_79 foreign key (autor_id) references recurso_autor (id) on delete restrict on update restrict;\ncreate index ix_registro_acceso_autor_79 on registro_acceso (autor_id);\nalter table solicitud_cancelacion add constraint fk_solicitud_cancelacion_recurso_80 foreign key (recurso_id) references recurso (id) on delete restrict on update restrict;\ncreate index ix_solicitud_cancelacion_recurso_80 on solicitud_cancelacion (recurso_id);\nalter table solicitud_cancelacion add constraint fk_solicitud_cancelacion_evaluador_81 foreign key (evaluador_id) references evaluador (id) on delete restrict on update restrict;\ncreate index ix_solicitud_cancelacion_evaluador_81 on solicitud_cancelacion (evaluador_id);\nalter table solicitud_cancelacion add constraint fk_solicitud_cancelacion_recursoestadoanterior_82 foreign key (recursoestadoanterior_id) references estado (id) on delete restrict on update restrict;\ncreate index ix_solicitud_cancelacion_recursoestadoanterior_82 on solicitud_cancelacion (recursoestadoanterior_id);\nalter table tipodocumento add constraint fk_tipodocumento_estado_83 foreign key (estado_id) references estado_activo (id) on delete restrict on update restrict;\ncreate index ix_tipodocumento_estado_83 on tipodocumento (estado_id);\nalter table unidadacademica_areaconocimiento add constraint fk_unidadacademica_areaconocimiento_unidadacademica_84 foreign key (unidadacademica_id) references unidadacademica (id) on delete restrict on update restrict;\ncreate index ix_unidadacademica_areaconocimiento_unidadacademica_84 on unidadacademica_areaconocimiento (unidadacademica_id);\nalter table unidadacademica_areaconocimiento add constraint fk_unidadacademica_areaconocimiento_area_85 foreign key (area_id) references areaconocimiento (id) on delete restrict on update restrict;\ncreate index ix_unidadacademica_areaconocimiento_area_85 on unidadacademica_areaconocimiento (area_id);\nalter table unidadacademica_niveleducativo add constraint fk_unidadacademica_niveleducativo_unidadacademica_86 foreign key (unidadacademica_id) references unidadacademica (id) on delete restrict on update restrict;\ncreate index ix_unidadacademica_niveleducativo_unidadacademica_86 on unidadacademica_niveleducativo (unidadacademica_id);\nalter table unidadacademica_niveleducativo add constraint fk_unidadacademica_niveleducativo_nivel_87 foreign key (nivel_id) references niveleducativo (id) on delete restrict on update restrict;\ncreate index ix_unidadacademica_niveleducativo_nivel_87 on unidadacademica_niveleducativo (nivel_id);\nalter table usuario add constraint fk_usuario_personal_88 foreign key (personal_id) references personal (id) on delete restrict on update restrict;\ncreate index ix_usuario_personal_88 on usuario (personal_id);\nalter table usuario_rol add constraint fk_usuario_rol_usuario_89 foreign key (usuario_id) references usuario (id) on delete restrict on update restrict;\ncreate index ix_usuario_rol_usuario_89 on usuario_rol (usuario_id);\nalter table usuario_rol add constraint fk_usuario_rol_rol_90 foreign key (rol_id) references rol (id) on delete restrict on update restrict;\ncreate index ix_usuario_rol_rol_90 on usuario_rol (rol_id);\nalter table versionanterior add constraint fk_versionanterior_recurso_91 foreign key (recurso_id) references recurso (id) on delete restrict on update restrict;\ncreate index ix_versionanterior_recurso_91 on versionanterior (recurso_id);\nalter table versionanterior add constraint fk_versionanterior_recursoanterior_92 foreign key (recursoanterior_id) references recurso (id) on delete restrict on update restrict;\ncreate index ix_versionanterior_recursoanterior_92 on versionanterior (recursoanterior_id);\nalter table clasificacion_observacion add constraint fk_clasificacion_observacion_clasificacion_93 foreign key (clasificacion_id) references clasificacion (id) on delete restrict on update restrict;\ncreate index ix_clasificacion_observacion_clasificacion_93 on clasificacion_observacion (clasificacion_id);\nalter table recurso_dirigidoa add constraint fk_recurso_dirigidoa_recurso_94 foreign key (recurso_id) references recurso (id) on delete restrict on update restrict;\ncreate index ix_recurso_dirigidoa_recurso_94 on recurso_dirigidoa (recurso_id);\nalter table recurso_dirigidoa add constraint fk_recurso_dirigidoa_dirigidoa_95 foreign key (dirigidoa_id) references dirigidoa (id) on delete restrict on update restrict;\ncreate index ix_recurso_dirigidoa_dirigidoa_95 on recurso_dirigidoa (dirigidoa_id);','SET FOREIGN_KEY_CHECKS=0;\n\ndrop table alcance_curricular;\n\ndrop table areaconocimiento;\n\ndrop table aspecto;\n\ndrop table autorfuncion;\n\ndrop table calendario;\n\ndrop table clasificacion;\n\ndrop table clasificador_cancelable;\n\ndrop table clasificador_catalogo_criterio3;\n\ndrop table clasificador_criterio1;\n\ndrop table clasificador_criterio2;\n\ndrop table clasificador_criterio3;\n\ndrop table clasificador_criterio3ejemplo;\n\ndrop table clasificador_ejemplo;\n\ndrop table clasificador_noevaluable;\n\ndrop table clasificador_tiporecurso;\n\ndrop table correo_autor;\n\ndrop table correo_salida;\n\ndrop table correo_salida_para;\n\ndrop table ctacorreo;\n\ndrop table dirigidoa;\n\ndrop table documento;\n\ndrop table encuesta_observacion;\n\ndrop table encuesta_reactivo;\n\ndrop table encuesta_respuesta;\n\ndrop table estado;\n\ndrop table estado_activo;\n\ndrop table estado_encuesta;\n\ndrop table estado_evaluacion;\n\ndrop table evaluacion;\n\ndrop table evaluacion_fecha;\n\ndrop table evaluacion_observacion;\n\ndrop table evaluacion_observacion_gral;\n\ndrop table evaluacion_observacion_observacion_gral;\n\ndrop table evaluacion_prorroga;\n\ndrop table evaluacion_tabla;\n\ndrop table evaluacion_tabla_reactivo;\n\ndrop table evaluacion_tabla_tipo_recurso;\n\ndrop table evaluacion_tabla_version;\n\ndrop table evaluador;\n\ndrop table evaluador_aspecto;\n\ndrop table formatoentrega;\n\ndrop table historialestado;\n\ndrop table historialestado_encuesta;\n\ndrop table historialestado_evaluacion;\n\ndrop table modalidad;\n\ndrop table niveleducativo;\n\ndrop table observacion;\n\ndrop table observacion_cancelacion;\n\ndrop table oficio;\n\ndrop table oficio_valoracion;\n\ndrop table palabraclave;\n\ndrop table personal;\n\ndrop table recurso;\n\ndrop table recurso_autor;\n\ndrop table recursoenweb;\n\ndrop table recursoevaluador;\n\ndrop table registro_acceso;\n\ndrop table rol;\n\ndrop table solicitud_cancelacion;\n\ndrop table tipodocumento;\n\ndrop table unidad_medida;\n\ndrop table unidadacademica;\n\ndrop table unidadacademica_areaconocimiento;\n\ndrop table unidadacademica_niveleducativo;\n\ndrop table usuario;\n\ndrop table usuario_rol;\n\ndrop table version;\n\ndrop table versionanterior;\n\ndrop table clasificacion_observacion;\n\ndrop table recurso_dirigidoa;\n\nSET FOREIGN_KEY_CHECKS=1;','applied','Table \'alcance_curricular\' already exists [ERROR:1050, SQLSTATE:42S01]');
/*!40000 ALTER TABLE `play_evolutions` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Dumping events for database 'erdd'
--

--
-- Dumping routines for database 'erdd'
--
/*!50003 DROP FUNCTION IF EXISTS `EvaluacionEstado` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE  FUNCTION `EvaluacionEstado`(edo int) RETURNS bigint(20)
BEGIN
    DECLARE reslutval BIGINT;
    SET reslutval := 0;
	select count(*)	into reslutval from(
		select recurso_id  from recursoevaluador
		where estadoevaluacion_id = edo
		group by recurso_id
		order by recurso_id
		) auxiliar;
    RETURN reslutval;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `VersionActual` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE  FUNCTION `VersionActual`() RETURNS bigint(20)
BEGIN
    DECLARE reslutval BIGINT;
    SET reslutval := 0;
		select max(version) into reslutval from evaluacion_tabla_version;
    RETURN reslutval;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP FUNCTION IF EXISTS `VersionActualTerminada` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE  FUNCTION `VersionActualTerminada`() RETURNS bigint(20)
BEGIN
    DECLARE reslutval BIGINT;
    SET reslutval := 0;
		select max(version) into reslutval from evaluacion_tabla_version where terminado = 'S';
    RETURN reslutval;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;

/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on 2018-08-13 12:38:14
